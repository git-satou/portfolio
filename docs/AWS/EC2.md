## ベースとなるサーバのイメージを作成する
手順省略

## 起動テンプレート作成
EC2 -> 起動テンプレート -> 起動テンプレートを作成

- 起動テンプレート名と説明
 - 「〇〇-asg」みたいな名前で入力

- アプリケーションおよび OS イメージ (Amazon マシンイメージ) 情報
 - ベースとなるAMIを指定

- インスタンスタイプ
 - ASGに反映させるタイプを指定

- キーペア
 - テンプレートと同様の鍵を指定する

- ネットワーク設定
 - ファイアウォール (セキュリティグループ)
  - 基本はベースのものと同じで
 - 高度なネットワーク設定
  - ネットワークインターフェイスを追加 → パブリックIPの自動割り当てを有効化

- リソースタグ
 - Nameタグを追加する。リソースタイプはインスタンスとボリュームを指定する

## Auto Scaling グループの作成
EC2 -> Auto Scaling グループ -> Auto Scaling グループを作成

### 起動テンプレートまたは起動設定を選択する
- 名前
 - Auto Scaling グループ名
  -よしなに

### インスタンス起動オプションを選択
- ネットワーク
 - VPCとアベイラビリティーゾーンとサブネットを設定

### 詳細オプションを設定
- ロードバランシング
 - アタッチするロードバランサを作成。既存のがある場合はそれで
- 新しいロードバランサーにアタッチ
  - ロードバランサーの名前
  - ロードバランサーのスキーム → Internet-facing
  - リスナーとルーティング を作成

- その他の設定
 - CloudWatch 内でグループメトリクスの収集を有効にするを有効化

## 作成したASGの設定編集
EC2 -> Auto Scaling グループ -> {作成したASG}

- 詳細
 - 高度な設定
  - 終了ポリシーをOldestInstanceに

- アクティビティ通知
 - トピック作成して設定

## さいごに
- 作成したALBの設定変更をやってね