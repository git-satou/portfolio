## OS
### ユーザーの作成  

```bash
useradd hoge
passwd hoge
```

### sudo権限の追加

```bash
usermod -aG wheel hoge
```

### historyにタイムスタンプを追加

```bash
echo "HISTTIMEFORMAT='[%F %T] '" > /etc/profile.d/history.sh
```

### パッケージアップデート

```bash
yum -y update
```

### 必要なパッケージのインストール

```bash
yum -y install net-tools bash-completion sysstat wget yum-utils mlocate lsof
```

### 開発者パッケージの有効化

```bash
yum config-manager --set-enabled crb
```

### IP転送の有効化(keepalived)とinotifyの変更(lsyncd) ※必要であれば

```bash
echo 'net.ipv4.ip_forward = 1' > /etc/sysctl.d/custom.conf
echo 'fs.inotify.max_user_watches = 10000000' >> /etc/sysctl.d/custom.conf
```

### sftpログをrsyslogで管理

```bash
echo 'local5.* /var/log/sftp.log' > /etc/rsyslog.d/sftp.conf
touch /var/log/sftp.log
echo 'Subsystem sftp /usr/libexec/openssh/sftp-server -f LOCAL5 -l VERBOSE -u 002' > /etc/ssh/sshd_config.d/custom.conf
```

### ログローテートに追加

- /etc/logrotate.d/rsyslog

```conf
/var/log/sftp.log
```

### journalログの肥大化防止

```bash
sed -i.org 's/#MaxRetentionSec=/MaxRetentionSec=30day/g' /etc/systemd/journald.conf
```

### 設定反映

```
reboot
```