## インストール

```
yum module enable postgresql:16
yum install -y postgresql-server
```

## チューニング

```conf
## 外部接続を許可
#listen_addresses = 'localhost'
listen_addresses = '*'

## キャッシュメモリサイズ(メモリの 25% 程度)
#shared_buffers = 128MB
shared_buffers = 1GB

## SSDであれば2.0がよい
#random_page_cost = 4.0
random_page_cost = 2.0

## ディスクキャッシュ利用の推定値(総メモリの半分程度)
#effective_cache_size = 4GB
effective_cache_size = 2GB

## クエリログの記録
#log_min_duration_statement = -1
log_min_duration_statement = 1000
```

## カーネルチューニング

- データベースへの接続数が多い場合に勘案

```conf
net.core.rmem_max = 3145728
net.core.wmem_max = 3145728
net.ipv4.tcp_max_syn_backlog = 16384
net.core.netdev_max_backlog = 16384
net.core.somaxconn = 32768
```