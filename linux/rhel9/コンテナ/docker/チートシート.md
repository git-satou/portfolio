# Docker イメージのビルド・タグ付け・ECR へのプッシュ手順（PowerShell 用）

※ PowerShell で実行  
※ `:latest` タグは省略可（明示的に付けたい場合は手動で指定）

---

## AWS ログイン（ECR）

```powershell
$TOKEN = aws ecr get-login-password --region ap-northeast-1
docker login --username AWS --password $TOKEN {aws_account_id}.dkr.ecr.ap-northeast-1.amazonaws.com
```

---

## AWS ECR へ push

```powershell
docker push {aws_account_id}.dkr.ecr.ap-northeast-1.amazonaws.com/{tag}:{version}
```

---

## Docker イメージのビルド

```powershell
docker build -t {tag}:{version} -f Dockerfile .
```

---

## 一時的にイメージを起動しコマンドを実行

```powershell
docker run -it --rm {tag}:{version} ls -l /usr/bin/
```

---

## 5. イメージの確認と削除

```powershell
docker images
docker rmi {tag}:{version}
```

---

## 6. タグの変更（旧 → 新）

```powershell
docker tag {tag}:{version} {tag}:{new_version}
```
